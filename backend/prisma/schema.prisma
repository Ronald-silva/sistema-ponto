generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum UserRole {
  ADMIN
  ALMOXARIFE_A
  ALMOXARIFE_B
  ANALISTA_ADMINISTRATIVO_II
  ANALISTA_COMPRAS_JUNIOR_A
  ANALISTA_COMPRAS_JUNIOR_B
  ANALISTA_COMPRAS_PLENO
  ANALISTA_COMPRAS_SENIOR
  ANALISTA_CONTABIL_JUNIOR
  ANALISTA_CONTABIL_PLENO
  ANALISTA_CONTABIL_SENIOR
  ANALISTA_CONTROLADORIA_JUNIOR
  ANALISTA_CONTROLADORIA_PLENO
  ANALISTA_CONTROLADORIA_SENIOR
  ANALISTA_FINANCEIRO_JUNIOR
  ANALISTA_FINANCEIRO_PLENO
  ANALISTA_FINANCEIRO_SENIOR
  ANALISTA_FISCAL_JUNIOR
  ANALISTA_FISCAL_PLENO
  ANALISTA_FISCAL_SENIOR
  ANALISTA_RH_JUNIOR
  ANALISTA_RH_PLENO
  ANALISTA_RH_SENIOR
  ASSISTENTE_ADMINISTRATIVO_I
  ASSISTENTE_ADMINISTRATIVO_II
  ASSISTENTE_COMPRAS_I
  ASSISTENTE_COMPRAS_II
  ASSISTENTE_CONTABIL_I
  ASSISTENTE_CONTABIL_II
  ASSISTENTE_CONTROLADORIA_I
  ASSISTENTE_CONTROLADORIA_II
  ASSISTENTE_FINANCEIRO_I
  ASSISTENTE_FINANCEIRO_II
  ASSISTENTE_FISCAL_I
  ASSISTENTE_FISCAL_II
  ASSISTENTE_RH_I
  ASSISTENTE_RH_II
  AUXILIAR_ADMINISTRATIVO_I
  AUXILIAR_ADMINISTRATIVO_II
  AUXILIAR_COMPRAS_I
  AUXILIAR_COMPRAS_II
  AUXILIAR_CONTABIL_I
  AUXILIAR_CONTABIL_II
  AUXILIAR_CONTROLADORIA_I
  AUXILIAR_CONTROLADORIA_II
  AUXILIAR_FINANCEIRO_I
  AUXILIAR_FINANCEIRO_II
  AUXILIAR_FISCAL_I
  AUXILIAR_FISCAL_II
  AUXILIAR_RH_I
  AUXILIAR_RH_II
  COORDENADOR_ADMINISTRATIVO
  COORDENADOR_COMPRAS
  COORDENADOR_CONTABIL
  COORDENADOR_CONTROLADORIA
  COORDENADOR_FINANCEIRO
  COORDENADOR_FISCAL
  COORDENADOR_RH
  DIRETOR_ADMINISTRATIVO
  DIRETOR_COMPRAS
  DIRETOR_CONTABIL
  DIRETOR_CONTROLADORIA
  DIRETOR_FINANCEIRO
  DIRETOR_FISCAL
  DIRETOR_RH
  ENGENHEIRO_CIVIL
  ESTAGIARIO_ADMINISTRATIVO
  ESTAGIARIO_COMPRAS
  ESTAGIARIO_CONTABIL
  ESTAGIARIO_CONTROLADORIA
  ESTAGIARIO_FINANCEIRO
  ESTAGIARIO_FISCAL
  ESTAGIARIO_RH
  GERENTE_ADMINISTRATIVO
  GERENTE_COMPRAS
  GERENTE_CONTABIL
  GERENTE_CONTROLADORIA
  GERENTE_FINANCEIRO
  GERENTE_FISCAL
  GERENTE_RH
  SUPERVISOR_ADMINISTRATIVO
  SUPERVISOR_COMPRAS
  SUPERVISOR_CONTABIL
  SUPERVISOR_CONTROLADORIA
  SUPERVISOR_FINANCEIRO
  SUPERVISOR_FISCAL
  SUPERVISOR_RH
  TECNICO_ADMINISTRATIVO_I
  TECNICO_ADMINISTRATIVO_II
  TECNICO_COMPRAS_I
  TECNICO_COMPRAS_II
  TECNICO_CONTABIL_I
  TECNICO_CONTABIL_II
  TECNICO_CONTROLADORIA_I
  TECNICO_CONTROLADORIA_II
  TECNICO_FINANCEIRO_I
  TECNICO_FINANCEIRO_II
  TECNICO_FISCAL_I
  TECNICO_FISCAL_II
  TECNICO_RH_I
  TECNICO_RH_II
}

model User {
  id             String       @id @default(uuid())
  name           String
  cpf            String       @unique
  password       String
  role           UserRole
  salary         Float
  birth_date     DateTime
  admission_date DateTime
  active         Boolean      @default(true)
  createdAt      DateTime     @default(now())
  updatedAt      DateTime     @updatedAt
  TimeRecord     TimeRecord[]
  faceDescriptor Float[]
}

model TimeRecord {
  id        String   @id @default(uuid())
  userId    String
  type      String
  timestamp DateTime
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  user      User     @relation(fields: [userId], references: [id])
}

model Project {
  id          String   @id @default(uuid())
  name        String
  description String?
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Holiday {
  id          String   @id @default(uuid())
  name        String
  date        DateTime
  description String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}
